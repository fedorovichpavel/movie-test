(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{22:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(16),i=c.n(a),r=(c(22),c(7),c(3)),l=n.a.createContext(),j=c(0),b=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(l),i=a.setMovieOpt,b=a.movieObj;Object(s.useEffect)((function(){}));return Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("input",{type:"text",value:c,onChange:function(e){n(e.target.value),i({movieObj:b,s:e.target.value})}})})},o=c.p+"static/media/user.7e2f42f3.svg",u=function(){return Object(j.jsxs)("div",{className:"user",children:[Object(j.jsx)("img",{src:o,alt:"user"}),Object(j.jsx)("span",{children:"UserName"}),Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAZElEQVQ4je3OvQmAMBRF4QPqAllEnCc4kziF4GaxTR208YGFhOtPI+bALd/Hg9L/aoAALOLCfpMtAqu4qHxZA0nAElApIIATQKdiVpfB2quY1Z9g/i5mjQdseIpZMzC9hZW+3ga0tThvg/p4agAAAABJRU5ErkJggg==",alt:"user"})]})},d=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Movie Catalog"}),Object(j.jsx)(b,{}),Object(j.jsx)(u,{})]})},O=c(17),x={base:c.n(O).a.create({baseURL:"https://www.omdbapi.com"}),getMovies:function(e,t){return this.base.get("/?i=tt3896198&apikey=8523cbb8".concat(e?"&s=".concat(e):"").concat(t?"&page=".concat(t):""))}},m=c.p+"static/media/no-image.6b0934f6.jpg",v=function(e){var t=e.movie;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:t.Poster&&"N/A"!==t.Poster?t.Poster:m,alt:"poster"}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Name: ",t.Title]}),Object(j.jsxs)("li",{children:["Year: ",t.Year]}),Object(j.jsxs)("li",{children:["ImdbID: ",t.imdbID]}),Object(j.jsxs)("li",{children:["Type: ",t.Type]})]})]})},h=function(){return Object(j.jsxs)("div",{className:"spinner",children:[Object(j.jsx)("div",{className:"blob blob-0"}),Object(j.jsx)("div",{className:"blob blob-1"}),Object(j.jsx)("div",{className:"blob blob-2"}),Object(j.jsx)("div",{className:"blob blob-3"}),Object(j.jsx)("div",{className:"blob blob-4"}),Object(j.jsx)("div",{className:"blob blob-5"})]})},p=function(){return Object(j.jsx)("div",{className:"load-wrapp",children:Object(j.jsxs)("div",{className:"load",children:[Object(j.jsx)("p",{children:"Loading..."}),Object(j.jsx)("div",{className:"line"}),Object(j.jsx)("div",{className:"line"}),Object(j.jsx)("div",{className:"line"})]})})},f=c(6),g=function(e){var t=e.pages,c=e.setCurrentPage,n=e.currentPage,a=Object(s.useContext)(l),i=a.setMovieOpt,r=a.movieObj,b=Math.ceil(+t/10),o=function(e){c(e),i(Object(f.a)(Object(f.a)({},r),{},{page:e}))};return Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("button",{onClick:function(e){o(+n-1)},disabled:1===+n,children:"\xab"}),Array.from({length:+b}).fill(1).map((function(e,t){return e+t})).slice(+n<4?0:+n+4>=+b?+b>9?+b-9:0:+n-4,+n<4?8-+n+ +n:+n+4).map((function(e){return Object(j.jsx)("button",{value:e,color:"link",disabled:+n===e,onClick:function(e){o(+e.target.value)},children:e},"page"+e)})),+b>7&&+n+3<+b-1&&Object(j.jsxs)(j.Fragment,{children:[+n+3!==+b-2&&Object(j.jsx)("button",{disabled:!0,children:"..."}),Object(j.jsx)("button",{value:+b,onClick:function(e){o(+e.target.value)},color:"link",children:+b})]}),Object(j.jsx)("button",{color:"link",disabled:+n===+b||0===b,onClick:function(e){o(+n+1)},children:"\xbb"})]})},A=function(e){var t=e.movieObj,c=Object(s.useState)(null),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(s.useState)(1),b=Object(r.a)(l,2),o=b[0],u=b[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(null),x.getMovies(e,t).then((function(e){e.status&&i((function(t){return e.data}))}))};return Object(s.useEffect)((function(){d(t.s,t.page)}),[t]),Object(s.useEffect)((function(){1!==o&&u(1)}),[t.s]),Object(j.jsxs)("main",{children:[Object(j.jsx)("div",{className:"main_search_result",children:a&&Object(j.jsxs)("span",{style:a.totalResults?{opacity:1}:{opacity:0},children:["You searched for: ",t.s,", ",a.totalResults," results found"]})}),Object(j.jsx)("div",{className:"main_cards",children:a?"True"===a.Response?a.Search?a.Search.map((function(e,t){return Object(j.jsx)(v,{movie:e},e.Title+t)})):Array(8).fill(a).map((function(e,t){return Object(j.jsx)(v,{movie:e},e.Title+t)})):Object(j.jsxs)("span",{className:"main_movie_error",children:[a.Error," :("]}):Object(j.jsx)(p,{})}),Object(j.jsx)("div",{className:"pagination_wrapper",children:a&&Object(j.jsx)(g,{pages:a.totalResults||(a.Error?0:100),getMovies:d,currentPage:o,setCurrentPage:u})})]})},N=function(){var e=Object(s.useState)({s:null,page:null}),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(j.jsx)(l.Provider,{value:{setMovieOpt:function(e){n(e)},movieObj:c},children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(d,{}),Object(j.jsx)(A,{movieObj:c})]})})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(s.Suspense,{fallback:Object(j.jsx)(h,{}),children:Object(j.jsx)(N,{})})}),document.getElementById("root"))},7:function(e,t,c){}},[[43,1,2]]]);
//# sourceMappingURL=main.4c11d034.chunk.js.map